<%# requires presence of @relationship %>
$(function(){
  
  function toggleReverseDirection() {
    var input = $('#relationship-reverse-direction-input');
    var currentVal = input.val();

    if (currentVal.toUpperCase() == 'TRUE') {
      input.val('FALSE');
    } else {
      input.val('TRUE');
    }
  };

  $('#relationship-reverse-link').click(function(event) {
    event.preventDefault();
    toggleReverseDirection();

    /*  
       There si two formats edit relationship UI,
       one for relationships with dynamic title (#description-fields)
       and one with static titles (#relationship-edit-description-fields-display).

       It is possble for a page to have both.
     */
    
    if (document.getElementById('description-fields')) {
      utility.swapDomElementsById('df-forward-link-entity1', 'df-forward-link-entity2');
      utility.swapDomElementsById('df-backward-link-entity1', 'df-backward-link-entity2');
    }

    if (document.getElementById('relationship-edit-description-fields-display')) {
      utility.swapDomElementsById('df-entity-link-1', 'df-entity-link-2');
    }

    return false;
  });

});
