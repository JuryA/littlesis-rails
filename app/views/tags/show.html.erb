<div id="tag-show-container">

  <div id="tag-header">

    <div id="tag-title">
      <div id="tag-name">
        Tag: <%= content_tag :span, @tag.name, class: "big-tag" %>
      </div>

      <div id="tag-description">
        <%= @tag.description %>
      </div>
    </div>

    <div id="tag-overview-link">
      <%= link_to "see all tags", tags_path  %>
    </div>
  </div>

  <div id="tag-nav">
    <ul class="nav nav-tabs">
      <% Tagable::TAGABLE_CLASSES.each do |tc|  %>
        <li role="presentation"
            id="tag-nav-tab-<%= tc.category_str%>"
            class=<%= tc == Tagable.class_of(@tagable_category) ? "active" : "inactive" %>
        >
          <%=  link_to tc.category_str.capitalize,"/tags/#{@tag.id}/#{tc.category_str}" %>
        </li>
      <% end %>
    </ul>
  </div>

  <%# @taggings_by_class.each do |tagable_class, taggings|  %>
  
    <div id="tagable-list">

      <% if @tagables.empty? %>

        <div class="tagable-list-empty-message">
          <%= "There are no #{@tagable_category} tagged \"#{@tag.name}\"" %>
        </div>

      <% else %>

        <ul class="tagable-list-items">
          <% @tagables.each_with_index do |tagable, i| %>
            <div class="tagable-list-item">
              <%= link_to tagable.name, tagable, class: "tagable-list-item-name"%>
              <%= content_tag :div,
                              "edited #{time_ago_in_words(tagable.updated_at)} ago",
                              class: "tagable-list-item-date"%>
              <%= content_tag :div,
                              truncate(tagable.description, length: 90),
                              class: "tagable-list-item-description"%>
            </div>
          <% end #tagables.each %>
        </ul>

        <div class="tagable-list-pagination">
          <%= paginate @tagables %>
        </div>

      <% end #if !tagables.empty %>
    </div> 

  <%# end # tagables_grouped_by_class.map%>

  <div class=".tag-show-container">
